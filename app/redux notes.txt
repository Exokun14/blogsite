'use client';

import { ReactNode } from "react";
import { Provider } from "react-redux";
import { store } from "./store";

export function Providers({ children }: { children: ReactNode }) {
  return (
    <Provider store={store}>
        {children}
    </Provider>
  );
}



/////////////////////////////////////


import { configureStore } from "@reduxjs/toolkit";
import RegistrationReducer from "./components/registrationlogic";

export const store = configureStore({
    reducer: {
        registration: RegistrationReducer
    }
})

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;


////////////////////////////////////

import { createSlice } from "@reduxjs/toolkit";

const registration = { value: 0, textValue: "Next", title: "Create your Blog Title", description: "The title of your blog."}

const RegistrationSlice = createSlice({
    name: "state",
    initialState: registration,

    reducers: {
        increment(state) {
            if (state.value < 2) {
                state.value += 1
                
            }
            if (state.value >= 2){
                state.textValue = "Finish"
            }
        },
        decrement(state){
            if (state.value > 0) {
                state.value -= 1
                
                if (state.value < 2) {
                    state.textValue = "Next"
                }
            }
        },
        resetValue(state){
            state.value = 0
        },
    }
})


export const { increment, decrement, resetValue} = RegistrationSlice.actions;
export default RegistrationSlice.reducer